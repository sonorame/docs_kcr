@startuml

'hide footbox
skinparam {
    MaxMessageSize 200
}
skinparam sequence{
    ParticipantPadding 30
    MessageAlign center
}
autonumber "<b>[0]"

actor Пользователь
participant Фронт_монолит
participant Бэк_монолит
participant Сервис_услуг
participant БД_монолита

Пользователь -> Фронт_монолит: Зарегистрировать обращение
Фронт_монолит -> Бэк_монолит: Запрос на регистрацию обращения
Бэк_монолит -> БД_монолита: Обновить статус обращения
Бэк_монолит -> Фронт_монолит: Обращение зарегистрировано, обновить вкладку
Фронт_монолит -> Пользователь: Сообщение зарегистрированно + вкладка "Межведомственное взаимодействие"
Пользователь -> Пользователь: Обработка
Пользователь -> Фронт_монолит: Оказать услугу
Фронт_монолит -> Бэк_монолит: Запрос на оказание услуги
Бэк_монолит -> Фронт_монолит: Форма для создания нового документа
Фронт_монолит -> Пользователь: Отрисовать форму для создания нового документа
Пользователь -> Пользователь: Обработка
Пользователь -> Фронт_монолит: Сохранить результат
Фронт_монолит -> Бэк_монолит: Сохранить результат в БД
Бэк_монолит -> БД_монолита: Сохранить результат в БД

alt Отказать в предоставлении услуги
    Пользователь -> Фронт_монолит: Отказ в предоставлении услуги
    Фронт_монолит -> Бэк_монолит: Запрос на отказ предоставления услуги
    Бэк_монолит -> Фронт_монолит: Форма для создания нового документа
    Фронт_монолит -> Пользователь: Отрисовать форму для создания нового документа
    Пользователь -> Пользователь: Обработка
    Пользователь -> Фронт_монолит: Сохранить результат
    Фронт_монолит -> Бэк_монолит: Сохранить результат в БД
    Бэк_монолит -> БД_монолита: Сохранить результат в БД
end
@enduml