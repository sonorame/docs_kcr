@startuml

'hide footbox
skinparam {
    MaxMessageSize 200
}
skinparam sequence{
    ParticipantPadding 30
    MessageAlign center
}
autonumber "<b>[0]"

actor Пользователь
participant Фронт_монолит
participant Бэк_монолит
participant Сервис_услуг
participant БД_монолита

Пользователь -> Фронт_монолит: Создать новое обращение
Фронт_монолит -> Бэк_монолит: Запрос формы для создания нового обращения
Бэк_монолит -> Фронт_монолит: Ответ форма для создания нового обращения
Фронт_монолит -> Пользователь : Форма для создания нового обращения
Пользователь  -> Фронт_монолит: Запрос выбрать услугу/подуслугу
Фронт_монолит -> Бэк_монолит: Запрос списка услуг/подуслуг
Бэк_монолит -> Сервис_услуг: Запрос списка услуг/подуслуг
Сервис_услуг -> Сервис_услуг: Обработка запроса
Сервис_услуг -> Бэк_монолит: Ответ список услуг/подуслуг
Бэк_монолит -> Фронт_монолит: Отрисовать выпадающий список
Фронт_монолит -> Пользователь: Выпадающий список
Пользователь -> Фронт_монолит: Выбрать услугу+подуслугу
Фронт_монолит -> Бэк_монолит: Запрос информации о целевом этапе целевой подуслуги
Бэк_монолит -> Сервис_услуг: Запрос информации о целевом этапе целевой подуслуги
Сервис_услуг -> Сервис_услуг: Обработка запроса
Сервис_услуг -> Бэк_монолит: Ответ целевой этап целевой подуслуги
Бэк_монолит -> Фронт_монолит: Отрисовать форму для этапа
Фронт_монолит -> Пользователь: Форма для этапа
Пользователь -> Пользователь: Заполнение профилирования

Пользователь -> Фронт_монолит: Сохранить обращение
Фронт_монолит -> Бэк_монолит: Записать новую сущность в БД
Бэк_монолит -> БД_монолита: Записать новую сущность в БД
БД_монолита -> Бэк_монолит: Запись создана

par 
Бэк_монолит -> Сервис_услуг: Запрос описания необходимого события с учетом результата текущего этапа
Сервис_услуг -> Сервис_услуг: Обработка запроса
Сервис_услуг -> Бэк_монолит: Ответ описание необходимого события с учетом результата текущего этапа
Бэк_монолит -> Бэк_монолит: Обработка ответа
end par

Бэк_монолит -> Фронт_монолит: Запись создана
Фронт_монолит -> Пользователь: Запись создана

@enduml